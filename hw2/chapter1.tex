% \chapter{
% 	۱)بررسی انواع مدل‌های ارائه شده برای دیتابیس‌ها و مزایا و معایب آن‌ها نسبت به مدل رابطه‌ای
% }



\newenvironment{eng}{\begin{LTRbibitems}\resetlatinfont{#1}\end{LTRbibitems}}

\section*{\centering سوال اول
}



می‌دانیم که عملگر
$select$
یک عملگر
$basic$
است.


عملگر
$intersection$
دو عملگر
$select$
را با یکدیگر ترکیب می‌کند، امام تنها سطرهایی را بازمی‌گرداند که در 
$select$
 اول موجود هستند و سطرهایی دقیقا مشابهِ آن‌ها، در
$select$
اول نیز موجود است.


\section*{\centering سوال دوم
}

کوئری اول را بررسی می‌کنیم.
این کوئری، حاصلِ ضربِ کارتزین نتیجه‌ی دو کوئریِ زیر است:




    
% \eng{SELECT A FROM R WHERE B = 7}

\begin{LTRbibitems}\resetlatinfont{SELECT A FROM R WHERE B = 1}\end{LTRbibitems}

\begin{LTRbibitems}\resetlatinfont{SELECT A FROM S WHERE B = 1}\end{LTRbibitems}

% $ SELECT A FROM R WHERE B = 1 $

% $ SELECT C FROM S WHERE B = 1 $

یعنی ابتدا از هر دو جدول، سطرهایی را که مقدار ستون
$B$
مساوی ۱ است، انتخاب می‌کنیم و سپس آن‌ها را با هم ضرب می‌کنیم.
اگر در جدول
$R$
برای مثال، ۲۰ سطر وجود داشته باشد، که از میان این ۲۰ سطر، ۴ سطر باشد که مقدار ستون
$B$
مساوی ۱ است، و در جدول
$S$
۳ سطر باشد که مقدار ستون
$B$
مساوی ۱ است، این کوئری، ۱۲ سطر را باز می‌گرداند.

حال کوئری دوم را بررسی می‌کنیم.
در این کوئری، ابتدا ضرب کارتزین بین نتیجه‌ی این دو کوئری انجام می‌شود:


\begin{LTRbibitems}\resetlatinfont{SELECT A FROM R}\end{LTRbibitems}

\begin{LTRbibitems}\resetlatinfont{SELECT * FROM S WHERE B = 1}\end{LTRbibitems}

یعنی ابتدا از جدول
$R$
همه‌ی سطرها را انتخاب می‌کنیم و سپس از جدول
$S$
سطرهایی را که مقدار ستون
$B$
مساوی ۱ است، انتخاب می‌کنیم.
اگر در جدول
$R$
۴ سطر باشد و در جدول
$S$
۳ سطر باشد، این کوئری، ۱۲ سطر را باز می‌گرداند.

در نهایت، یک  عملگر
$Project$
هم روی نتیجه اعمال شده که ستون‌های
$A$
و
$C$
را بازمی‌گرداند.

بر اساس فرضی که در بخش قبلی مطرح کردیم،‌ در جدول
$R$
۲۰ سطر وجود داشت.
همچنین در جدول
$S$
۳ سطر وجود داشت که مقدار ستون
$B$
مساوی ۱ باشد.
در نتیجه، از ضرب کارتزین این دو، ۶۰ سطر به دست می‌آید.
در نهایت، ستون‌های   
$A$
و
$C$
از این ۶۰ سطر را داریم.
در حالی که در کوئری قبلی، تنها ستون 
$A$
از ۱۲ سطر را داشتیم.
واضح است که این دو کوئری نتایج متفاوتی را بازمی‌گردانند.


حال سومین کوئری را بررسی می‌کنیم.


در این کوئری ابتدا سطرهایی از جدول
$S$
انتخاب شده‌اند که در آن‌ها مقدار ستون
$B$
مساوی ۱ است.


سپس بین حاصل و کل جدول
$R$
عملگر
$Natural Join$
اعمال می‌شود.
این عملگر، ابتدا ستون‌های مشترک را پیدا می‌کند و سپس سطرهایی را از جدول
$R$
انتخاب می‌کند که مقدار ستون‌های مشترک با سطرهای انتخاب شده از جدول
$S$
مساوی باشد.
در این کوئری، ستون مشترک
$B$
است، پس مقادیری بازگردانده می‌شوند که در آن‌ها مقدار
$B$
در هر دو جدول مساوی ۱ باشد.
در نتهایت هم یک 
$Project$
روی نتیجه اعمال می‌شود که ستون‌های
$A$
و
$C$
را باز می‌گرداند.

با فرض‌هایی که در بخش اول در نظر گرفتیم، این کوئری را نیز بررسی می‌کنیم.
از اولین کوئری، تعداد ۳ سطر بازمی‌گردد.

هنگامی که روی این ۳ سطر و کل جدول
$R$
عملگر 
$Natural Join$
اعمال می‌شود، از آن‌جایی که در سه سطر انتخاب شده، مقدار ستون
$B$
مساوی ۱ است، از آن‌جایی که در کل جدول
$R$
هم  در ۴ ستون این شرط برقرار است، نهایتا ۱۲ سطر بازمی‌گردد و سپس ستون‌های
$A$
و
$C$
از آن‌ها باز می‌گردد.
ظاهرا این کوئری، مشابه کوئری اول عمل می‌کند.

حال برای اطمینان، عملگرهای آنان را بررسی می‌کنیم.

در هر دو کوئری، ابتدا سطرهایی که در آن‌ها مقدار
$B$
مساوی ۱ است، از جدول
$S$
انتخاب شده است.
در کوئری اول سپس یک ضرب کارتزین میان این سطرها و سطرهایی از جدول
$R$
انجام می‌شود که مقدار ستون
$B$
در آن‌ها هم مساوی ۱ باشد.

این دقیقا همان اتفاقی است که در کوئری سوم رخ می‌دهد هنگامی که عملگر
$Natural Join$
اعمال می‌شود.



\section*{\centering سوال سوم}

الف)

در کوئری اول، ابتدا تمام سطرهایی که در آن‌ها مقدار 
$salary$
بزرگترمساوی ۹۰۰۰۰ است انتخاب می‌شوند. سپس مقادیر ستون‌های
$name$
و
$dept_name$
از آن‌ها باز می‌گردد.
پس نتیجه‌ی نهایی، جدولی به این شکل خواهد بود:




\begin{LTRbibitems}
    \resetlatinfont{
        
        \begin{tabular}{|c|c|c|}
            \hline
            name & deptname \\ \hline
            Einstein & Physics \\ \hline
            Wu & Finance \\ \hline
            Brandt & Comp. Sci. \\ \hline
            % Ali & CS \\ \hline
            % Reza & CS \\ \hline
            \end{tabular}
    }


\end{LTRbibitems}


اما در کوئری دوم، ابتدا ستون‌های
$deptname$
و
$salary$
با عملگر
$Project$
انتخاب می‌شوند.

سپس کوئری روی آن‌ها زده می‌شود تا سطرهایی که در آن‌ها مقدار
$salary$
بزرگترمساوی ۹۰۰۰۰ است انتخاب شوند.
با توجه به این که در دیتایی که به این کوئری داده می‌شود، دیگر ستون
$salary$
وجود ندارد، نتیجه‌ی نهایی، جدولی بدونِ سطر خواهد بود.




